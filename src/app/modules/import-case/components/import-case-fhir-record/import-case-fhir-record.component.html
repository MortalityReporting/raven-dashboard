<div>
  1. Select a FHIR JSON file to upload and preview or paste your FHIR Bundle directly in the provided area.
  To prevent the creation of duplicate records, existing records are overwritten.
  <div class="content-offset">
    Contents must be a complete MDI Document Bundle or Toxicology Bundle.

    <div class="top-padding">
      <input type="file" class="file-input" (click)="fileUpload.value=null"
             accept=".json"
             (change)="onFileSelected($event)" #fileUpload>
      <button mat-raised-button color="success" class="upload-btn"
              (click)="clearUI(); fileUpload.click();" [disabled]=isLoading>
        <mat-icon>post_add</mat-icon>
        Select File
      </button>
      <span id="filename">{{file?.name}}</span>
    </div>

    <app-fhir-validator [isStandalone]=false></app-fhir-validator>

  </div>
  <div class="error-text mat-error">
    {{preconditionError}}
  </div>
</div>

<div class="top-padding">
  2. Submit your Bundle to the Raven FHIR Sever.
  <div class="content-offset top-padding">
    <button mat-raised-button color="primary" (click)="onSubmit()" *ngIf="!invalidResourceFound || preconditionError">
      <mat-icon>send</mat-icon>
      Submit
    </button>
    <button mat-raised-button color="warn" (click)="onSubmitInvalidRecord()"
            *ngIf="invalidResourceFound && !preconditionError && !isLoading">
      <mat-icon>send</mat-icon>
      Submit Invalid Record
    </button>

  </div>
</div>
