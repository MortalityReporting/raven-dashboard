<div class="content-wrapper">
  <div class="user-profile-header">
  <ng-container *ngIf="auth.isAuthenticated$ | async; else loggedOut">
    <span *ngIf="auth.user$ | async as user">
      {{ user.name }} ({{ user.email }})

      <img [src]="(currentUserImage$ | async) ? ((currentUserImage$ | async) | docrefBase64) : '/assets/portrait_placeholder.png'" class="profile-image">

    </span>
    <button (click)="auth.logout({ logoutParams: { returnTo: 'https://localhost:4200/workflow-simulator/admin' } })">
      Log out
    </button>
  </ng-container>

  <ng-template #loggedOut>
    <button (click)="auth.loginWithRedirect({appState: {target: '/workflow-simulator/admin'}})">Log in</button>
  </ng-template>
  </div>
  <pre>
{{currentUser$ | async | json}}
  </pre>
</div>
