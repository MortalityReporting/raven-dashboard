<div class="container top-spacer">
  <h1>FHIR Validator</h1>
  <form [formGroup]="form" (ngSubmit)="submit()" #formDirective="ngForm" >

    <mat-radio-group formControlName="textFormat">
      <mat-radio-button value="json">JSON</mat-radio-button>
      <mat-radio-button value="xml">XML</mat-radio-button>
    </mat-radio-group>

    <mat-form-field class="form-element" appearance="outline">
      <mat-label>Enter FHIR Resource</mat-label>
      <textarea matInput rows="30"
                formControlName="fhirResource"
                (paste)="onPaste($event)"
      ></textarea>
      <mat-error *ngIf="!form.controls['fhirResource'].valid && form.controls['fhirResource'].touched">
        Invalid
      </mat-error>
    </mat-form-field>

    <div class="form-element">
      <span style="padding-right: 2em">
          <button mat-raised-button color="primary" type="submit" class="button">
            <mat-icon>done</mat-icon>
            Validate
          </button>
      </span>
      <button mat-raised-button color="success" class="button" (click)="onClear();">
        <mat-icon>clear</mat-icon>
        Clear
      </button>
      <button mat-raised-button color="success" class="button" (click)="onFormatInput();">
        <mat-icon>clear</mat-icon>
        Format Input
      </button>
    </div>
  </form>
</div>
