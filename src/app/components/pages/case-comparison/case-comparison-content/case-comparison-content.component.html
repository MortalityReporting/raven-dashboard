<div class="case-summary-content-wrapper">
  <div class="summary-section-grid">
    <div class="grid-row">
      <div class="grid-col-1">
        User Document Bundle
      </div>
      <div class="grid-col-1">
        Select a Test Case to compare to
      </div>
    </div>

    <br>
    
    <div class="grid-row">
      <div class="grid-col-1">
        <textarea class="textarea" placeholder="Paste your Document Bundle here." (input)="onValueChange($event)"></textarea>
      </div>
      <div class="grid-col-1">
        <mat-form-field>
          <mat-select value={{selectedTestCase()}}>
            <mat-option class="mat-option" *ngFor="let testCase of testCases" value={{selectedTestCase()}}>
              {{ testCase.givenName + " " + testCase.familyName }}
            </mat-option>
          </mat-select>
        </mat-form-field>    
      </div>
    </div>
  </div>
  
  <br>

  <mat-accordion multi>
    <mat-expansion-panel class="summary-section" id="caseAdminInfo" [expanded]="caseAdminInfoExpanded" >
      <mat-expansion-panel-header (click)="onItemClick( 'caseAdminInfo' )">
        <mat-panel-title>Case Administration Information</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="summary-section-body">Not Yet Implemented</div>
    </mat-expansion-panel>    
    
    <mat-expansion-panel class="summary-section" id="demographics" [expanded]="demographicsExpanded">
      <mat-expansion-panel-header (click)="onItemClick( 'demographics' )">
        <mat-panel-title>Demographics</mat-panel-title>
      </mat-expansion-panel-header>
      
      <app-case-comparison-content-field state={{patient.resourceType.state}} title="ResourceType" resource="US Core Patient" fhirPath="Patient.resourceType" actual={{patient.resourceType.actual}} expected={{patient.resourceType.expected}} difference={{patient.resourceType.difference}}></app-case-comparison-content-field>
      <app-case-comparison-content-field state={{patient.id.state}} title="Id" resource="US Core Patient" fhirPath="Patient.id" actual={{patient.id.actual}} expected={{patient.id.expected}} difference={{patient.id.difference}}></app-case-comparison-content-field>
      <app-case-comparison-content-field state={{patient.text.state}} title="Text" resource="US Core Patient" fhirPath="Patient.text" actual={{patient.text.actual}} expected={{patient.text.expected}} difference={{patient.text.difference}}></app-case-comparison-content-field>
      <app-case-comparison-content-field state={{patient.extension.state}} title="Extension" resource="US Core Patient" fhirPath="Patient.extension" actual={{patient.extension.actual}} expected={{patient.extension.expected}} difference={{patient.extension.difference}}></app-case-comparison-content-field>
      <app-case-comparison-content-field state={{patient.identifier.state}} title="Identifier" resource="US Core Patient" fhirPath="Patient.identifier" actual={{patient.identifier.actual}} expected={{patient.identifier.expected}} difference={{patient.identifier.difference}}></app-case-comparison-content-field>
      <app-case-comparison-content-field state={{patient.name.state}} title="Name" resource="US Core Patient" fhirPath="Patient.name" actual={{patient.name.actual}} expected={{patient.name.expected}} difference={{patient.name.difference}}></app-case-comparison-content-field>
      <app-case-comparison-content-field state={{patient.gender.state}} title="Gender" resource="US Core Patient" fhirPath="Patient.gender" actual={{patient.gender.actual}} expected={{patient.gender.expected}} difference={{patient.gender.difference}}></app-case-comparison-content-field>
      <app-case-comparison-content-field state={{patient.birthDate.state}} title="BirthDate" resource="US Core Patient" fhirPath="Patient.birthDate" actual={{patient.birthDate.actual}} expected={{patient.birthDate.expected}} difference={{patient.birthDate.difference}}></app-case-comparison-content-field>
      <app-case-comparison-content-field state={{patient.address.state}} title="Address" resource="US Core Patient" fhirPath="Patient.address" actual={{patient.address.actual}} expected={{patient.address.expected}} difference={{patient.address.difference}}></app-case-comparison-content-field>
      
    </mat-expansion-panel>

    <mat-expansion-panel class="summary-section" id="circumstances" [expanded]="circumstancesExpanded">
      <mat-expansion-panel-header (click)="onItemClick( 'circumstances' )">
        <mat-panel-title>Circumstances</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="summary-section-body">Not Yet Implemented</div>
    </mat-expansion-panel>

    <mat-expansion-panel class="summary-section" id="jurisdiction" [expanded]="jurisdictionExpanded">
      <mat-expansion-panel-header (click)="onItemClick( 'jurisdiction' )">
        <mat-panel-title>Jurisdiction</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="summary-section-body">Not Yet Implemented</div>
    </mat-expansion-panel>

    <mat-expansion-panel class="summary-section" id="causeAndManner" [expanded]="causeAndMannerExpanded">
      <mat-expansion-panel-header (click)="onItemClick( 'causeAndManner' )">
        <mat-panel-title>Cause and Manner of Death</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="summary-section-body">Not Yet Implemented</div>
    </mat-expansion-panel>

    <mat-expansion-panel class="summary-section" id="medicalHistory" [expanded]="medicalHistoryExpanded">
      <mat-expansion-panel-header (click)="onItemClick( 'medicalHistory' )">
        <mat-panel-title>Relevant Medical History</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="summary-section-body">Not Yet Implemented</div>
    </mat-expansion-panel>

    <mat-expansion-panel class="summary-section" id="examAndAutopsy" [expanded]="examNotesExpanded">
      <mat-expansion-panel-header (click)="onItemClick( 'examNotes' )">
        <mat-panel-title>Exam and Autopsy Notes</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="summary-section-body">Not Yet Implemented</div>
    </mat-expansion-panel>

    <mat-expansion-panel class="summary-section" id="narratives" [expanded]="narrativesExpanded">
      <mat-expansion-panel-header (click)="onItemClick( 'narratives' )">
        <mat-panel-title>Narratives</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="summary-section-body">Not Yet Implemented</div>
    </mat-expansion-panel>

    <mat-expansion-panel class="summary-section" id="deathCertificate" [expanded]="deathCertificateExpanded">
      <mat-expansion-panel-header (click)="onItemClick( 'deathCertificate' )">
        <mat-panel-title>Death Certificate</mat-panel-title>
      </mat-expansion-panel-header>
      <div class="summary-section-body">Not Yet Implemented</div>
    </mat-expansion-panel>
  </mat-accordion>
</div>